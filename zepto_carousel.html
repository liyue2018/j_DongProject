<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>zepto实现效果</title>
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/index.css" />
</head>
<body>
    <div class="jd_layout">
        <!-- 搜索快 -->
        <div class="jd_search">
            <a href="javascript:;" class="jd_logo">
            </a>

            <form action="" method="get" accept-charset="utf-8" class="jd_searchBox">
                <i class="iconfont icon-search"></i>
                <input type="text" name="" placeholder="请输入关键字搜索" />
            </form>
            <a href="javascript:;" class="jd_login">登录</a>
        </div>
        <!-- 轮播图 -->
        <div class="jd_banner">
            <!-- 图片 -->
            <ul class="jd_bannerImg clearfix">
                <!-- <li><a href="javascript:;"><img src="images/image05.jpg" alt="" /></a></li> -->
                <li><a href="javascript:;"><img src="images/image01.jpg" alt="" /></a></li>
                <li><a href="javascript:;"><img src="images/image02.jpg" alt="" /></a></li>
                <li><a href="javascript:;"><img src="images/image03.jpg" alt="" /></a></li>
                <li><a href="javascript:;"><img src="images/image04.jpg" alt="" /></a></li>
                <li><a href="javascript:;"><img src="images/image05.jpg" alt="" /></a></li>
                <!-- <li><a href="javascript:;"><img src="images/image01.jpg" alt="" /></a></li> -->
            </ul>
            <!-- 圆点 -->
            <ol class="jd_bannerDot">
                <li class="active"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ol>
        </div>
        <!-- 顶部导航条 -->
        <nav class="jd_topNav">
            <ul>
                <li class="active"><a href="index.html">zepto实现效果</a></li><!--
             --><li><a href="javascript.html">原生js实现效果</a></li><!--
             --><li><a href="category.html">商品分类页面</a></li>
            </ul>
        </nav>
        <!-- 导航块 -->
        <div class="jd_nav">
            <ul>
                <li>
                    <a href="javascript:;">
                        <i class="iconfont icon-apparel"></i>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                        <i class="iconfont icon-gifts"></i>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                        <i class="iconfont icon-jewelry"></i>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                        <i class="iconfont icon-raw"></i>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                        <i class="iconfont icon-store"></i>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                        <i class="iconfont icon-libra"></i>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                        <i class="iconfont icon-earth"></i>
                        <p>商品分类</p>
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                        <i class="iconfont icon-apparel"></i>
                        <p>商品分类</p>
                    </a>
                </li>
            </ul>
        </div>
        <!-- 产品块 -->
        <div class="jd_product">
            <!-- 京东秒杀 -->
            <div class="jd_productBox jd_sk clearfix">
                <div class="jd_pTips">
                    <div class="f_left">
                        <i class="jd_sk_icon iconfont icon-toys"></i>
                        <span class="jd_sk_text">掌上秒杀</span>
                        <div class="jd_sk_time">
                            <span>0</span>
                            <span>0</span>
                            <i>:</i>
                            <span>0</span>
                            <span>0</span>
                            <i>:</i>
                            <span>0</span>
                            <span>0</span>
                        </div>
                    </div>
                    <div class="f_right">
                        <a href="javascript:;">更多秒杀...</a>
                    </div>
                </div>
                <div class="jd_pContent">
                    <ul class="jd_pList">
                        <li class="jd_pItem">
                            <a href="#">
                                <img src="images/product_item_img.png" alt="" />
                                <p class="jd_pItem_name">Beats X 蓝牙无线 入耳式耳机 运动耳机 手机耳机 游戏耳机 带麦可通话 黑色</p>
                                <p class="jd_pItem_price">￥1000.00</p>
                            </a>
                        </li>
                        <li class="jd_pItem">
                            <a href="#">
                                <img src="images/product_item_img.png" alt="" />
                                <p class="jd_pItem_name">Beats X 蓝牙无线 入耳式耳机 运动耳机 手机耳机 游戏耳机 带麦可通话 黑色</p>
                                <p class="jd_pItem_price">￥1000.00</p>
                            </a>
                        </li>
                        <li class="jd_pItem">
                            <a href="#">
                                <img src="images/product_item_img.png" alt="" />
                                <p class="jd_pItem_name">Beats X 蓝牙无线 入耳式耳机 运动耳机 手机耳机 游戏耳机 带麦可通话 黑色</p>
                                <p class="jd_pItem_price">￥1000.00</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- 京东超市 -->
            <div class="jd_productBox">
                <div class="jd_pTips">
                    <h3>京东超市</h3>
                </div>
                <div class="jd_pContent clearfix">
                    <a href="javascript:;" class="ah100 f_right">
                        <img src="images/jd_productImg01.jpg" alt="">
                    </a>
                    <a href="javascript:;">
                        <img src="images/jd_productImg02.png" alt="">
                    </a>
                    <a href="javascript:;">
                        <img src="images/jd_productImg03.jpg" alt="">
                    </a>
                </div>
            </div>
            <!-- 京东超市 -->
            <div class="jd_productBox">
                <div class="jd_pTips">
                    <h3>京东超市</h3>
                </div>
                <div class="jd_pContent jd_pContent_f clearfix">
                    <a href="javascript:;" class="ah100 f_left">
                        <img src="images/jd_productImg01.jpg" alt="">
                    </a>
                    <a href="javascript:;" class="f_right">
                        <img src="images/jd_productImg02.png" alt="">
                    </a>
                    <a href="javascript:;" class="f_left">
                        <img src="images/jd_productImg03.jpg" alt="">
                    </a>
                </div>
            </div>
            <!-- 京东超市 -->
            <div class="jd_productBox">
                <div class="jd_pTips">
                    <h3>京东超市</h3>
                </div>
                <div class="jd_pContent jd_pContent_f clearfix">
                    <a href="javascript:;" class="ah100 f_left">
                        <img src="images/jd_productImg01.jpg" alt="">
                    </a>
                    <a href="javascript:;" class="f_right">
                        <img src="images/jd_productImg02.png" alt="">
                    </a>
                    <a href="javascript:;" class="f_left">
                        <img src="images/jd_productImg03.jpg" alt="">
                    </a>
                </div>
            </div>

        </div>
    </div>
    <script src="assets/zepto.min.js"></script>
    <!-- <script src="assets/selector.js"></script>
    <script src="assets/fx.js"></script>
    <script src="assets/touch.js"></script>
 -->    

    <!-- zeopto实现效果 -->
    <script>
        // 使用zepto实现轮播图效果

        $(function () {
            var banner = $('.jd_banner');
            var bannerWidth = banner.width();
            // 获取图片盒子
            var imgBox = banner.find("ul:first-of-type");
            // 获取圆点标记
            var indicators = banner.find("ol.jd_bannerDot li");
            // 获取首尾两张图片
            var firstImg = imgBox.find("li:first-of-type");
            var lastImg = imgBox.find("li:last-of-type");
            // 复制两张图片，分别添加到首尾
            imgBox.append(firstImg.clone());
            lastImg.clone().insertBefore(firstImg);

            // 设置图片盒子的样式
            var lis = imgBox.find('li');
            var count = lis.length;
            imgBox.width(count.bannerWidth);

            // 设置li标签的宽度

            lis.each(function (index, value) {
                $(lis[index]).width(bannerWidth);
            });
            // 设置默认偏移
            imgBox.css('left', -bannerWidth);



            var index = 1;

            // 轮播动画效果
            var imgAnimation = function () {
              imgBox.animate(
                {"left": -index * bannerWidth}, 200, "ease-in-out", function () {
                    // 判断当前索引位置是否是最后一张
                    if (index == count -1) {
                        index = 1;
                        // 让他瞬间偏移到索引为1的位置 -- 非过渡
                        imgBox.css("left", -index * bannerWidth);
                    }
                    else if (index == 0) {
                        index = count - 2;
                        imgBox.css("left", -index * bannerWidth);
                    }
                    // 设置圆点标记
                    indicators.removeClass('active').eq(index - 1).addClass('active');

                });
            }

            // 开启定时器
            var timerId = setInterval(function() {
                index ++;
                // 设置过渡
                // 设置定位
                imgAnimation();


            }, 2000);

            // touch 事件
            // 在谷歌浏览器中无法正确触发swipe相关事件，但是可以触发tap事件
            // 向左滑动
            imgBox.on('swipeLeft', function () {
                clearInterval(timerId);
                index ++;
                imgAnimation();
            });
            // 向右滑动
            imgBox.on('swipeRight', function () {
                clearInterval(timerId);
                index --;
                imgAnimation();
            });

        })
    </script>
</body>
</html>